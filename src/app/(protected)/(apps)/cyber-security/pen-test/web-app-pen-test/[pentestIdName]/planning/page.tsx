import { Badge, Card, Divider, } from '@tremor/react';
import { RiBuildingFill, RiMapPin2Fill, RiUserFill, RiTimeLine, RiAlarmWarningFill } from '@remixicon/react';
import React from 'react';
import { format } from 'date-fns';
import { fetchData } from '@/utils/api';
import { RenderAppBreadcrumb } from '@/components/app-breadcrumb';
import BasicDetailsWidget from './BasicDetailsWidget';

export default async function BasicDetailsPage({
  params,
}: {
  params: Promise<{ pentestIdName: string }>;
}) {
  const pentestIdName = (await params).pentestIdName;
  const [pentestId, pentestNameInUrl] = pentestIdName.split("_");
  const pentestName = pentestNameInUrl.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');

  return (
    <>
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 0,
          title: "Penetration Testing",
          href: "/pen-test",
        }}
      />
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 1,
          title: "Web Application Penetration Testing",
          href: "/pen-test/web-app-pen-test",
        }}
      />
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 2,
          title: pentestName,
          // href: `/pen-test/web-app-pen-test/${pentestIdName}`,
        }}
      />
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 3,
          title: "Planning",
          href: `/pen-test/web-app-pen-test/${pentestIdName}/planning`,
        }}
      />

      <div className='h-full overflow-auto pb-3'>
        <BasicDetailsWidget pentestIdName={pentestIdName} />
      </div>
    </>
  )
}