import { Page, Text, View, StyleSheet, Link, Image } from '@react-pdf/renderer';
import WaterMarkedPage from './WaterMarkedPage';

const violetAbsUrl = '/IkonApps/assets/images/violet-abs.png';

// Styles
const styles = StyleSheet.create({
  title: {
    fontSize: 22,
    marginBottom: 50,
    color: '#433c39',
  },
  subtitle: {
    fontSize: 12,
    marginBottom: 60,
    color: '#717172'
  },
  leftPanel: {
    width: '70%',
    justifyContent: 'flex-start',
  },
  sectionNumberCircle: {
    width: 30,
    height: 30,
    borderRadius: 8,
    border: '1pt solid #717172',
    textAlign: 'center',
    alignItems: 'center',
    justifyContent: 'center',
    marginBottom: 5,
  },
  sectionNumber: {
    fontSize: 14,
    color: '#717172'
  },
  sectionTitle: {
    fontSize: 16,
    color: '#717172',
    marginBottom: 30
  },
  bulletPoint: {
    marginLeft: 10,
    marginBottom: 5,
    color: '#4f46e5',
  },
  bulletText: {
    fontSize: 9,
    marginBottom: 8,
    color: '#717172'
  },
  rightPanel: {
    width: '30%',
    justifyContent: 'flex-end',
    alignSelf: 'flex-end',
    marginRight: -40,
  },
  image: {
    width: '80%',
    height: '78%',
    objectFit: 'cover',
  },
  pageNumber: {
    justifySelf: 'flex-end',
    alignSelf: 'flex-end',
    fontSize: 10,
    color: '#aaa',
  },
});

interface MandatePhasePageProps {
  companyLogoSrc: string;
}


const MandatePhasePage: React.FC<MandatePhasePageProps> = ({ companyLogoSrc }) => (
  <WaterMarkedPage companyLogoSrc={companyLogoSrc} sectionHeader='Executive Summary' backgroundColor='#e3e4df'>
    <View style={{ flexDirection: 'column', justifyContent: 'space-between' }}>

      {/* Title and Intro */}
      <Text style={styles.title}>Phases of the Mandate</Text>
      <Text style={styles.subtitle}>
        To achieve this mandate, the Keross testing team conducted the following phases, described in each section:
      </Text>


      <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>
        {/* Section Number and Title */}
        <View style={styles.leftPanel}>
          <View style={styles.sectionNumberCircle}>
            <Text style={styles.sectionNumber}>1</Text>{'\n'}
          </View>
          <Text style={styles.sectionTitle}>Web Application Penetration Testing</Text>

          {/* Bullet Points */}
          <Text style={styles.bulletPoint}>• <Link src="https://s2cybersecurityservices.com/" style={{ textDecoration: 'none' }}><Text style={styles.bulletText}>https://s2cybersecurityservices.com/</Text></Link></Text>
          <Text style={styles.bulletPoint}>• <Text style={styles.bulletText}>Performed: Monday, June 09, 2025 and Monday, June 16, 2025.</Text></Text>
        </View>


        {/* Image Placeholder for Side Chart */}
        <View style={styles.rightPanel}>
          <Image src={violetAbsUrl} style={styles.image} />
        </View>
      </View>

      <Text style={styles.pageNumber}>3</Text>
    </View>
  </WaterMarkedPage >
);

export default MandatePhasePage;
