import VulnerabilityScan from "./components/VulnerabilityScan";
import { RenderAppBreadcrumb } from '@/components/app-breadcrumb';


const apiUrl = "http://localhost:3333/IkonApps/api/webApi/ZAP";

export default async function VulnerabilityScanning({
    params,
}: {
    params: Promise<{ pentestIdName: string }>;
}) {

    const pentestIdName = (await params).pentestIdName;
    const [pentestId, pentestNameInUrl] = pentestIdName.split("_");
    const pentestName = pentestNameInUrl.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');

    return (
        <>
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 0,
                    title: "Penetration Testing",
                    href: "/cyber-security/pen-test",
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 1,
                    title: "Web Application Penetration Testing",
                    href: "/cyber-security/pen-test/web-app-pen-test",
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 2,
                    title: pentestName,
                    // href: `/pen-test/web-app-pen-test/${pentestIdName}`,
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 3,
                    title: "Vulnerability Scanning",
                    href: `/cyber-security/pen-test/web-app-pen-test/${pentestIdName}/vulnerability-scanning`,
                }}
            />

            <VulnerabilityScan pentestIdName={pentestIdName} />
        </>
    )
}