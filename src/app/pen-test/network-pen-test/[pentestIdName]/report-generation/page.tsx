import { RenderAppBreadcrumb } from "@/components/app-breadcrumb";
import { ReportGenerationPanel } from "./components/ReportGenerationPanel";

export default async function HostConfirmation({
    params,
}: {
    params: Promise<{ pentestIdName: string }>;
}) {
    const pentestIdName = (await params).pentestIdName;
    const [pentestId, pentestName] = decodeURIComponent(pentestIdName).split("_");

    return (
        <>
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 0,
                    title: "Penetration Testing",
                    href: "/pen-test",
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 1,
                    title: "Network Penetration Testing",
                    href: "/pen-test/network-pen-test",
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 2,
                    title: pentestName,
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 3,
                    title: "Report Generation",
                    href: `/pen-test/network-pen-test/${pentestIdName}/report-generation`,
                }}
            />

            <div className='h-full overflow-auto pb-3'>
                <ReportGenerationPanel pentestIdName={pentestIdName} />
            </div>
        </>
    )
}
