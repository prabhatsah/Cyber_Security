import React from 'react';
import {
    Text,
    View,
    Image,
    StyleSheet,
} from '@react-pdf/renderer';
import WaterMarkedPage from './WaterMarkedPage';

const methodologyDiagramUrl = '/cyber-security/assets/images/appendix_target_enumeration.png';

const styles = StyleSheet.create({
    pageContent: {
        flexDirection: 'column',
        justifyContent: 'space-between',
        height: '100%',
    },
    heading: {
        fontSize: 30,
        marginBottom: 15,
    },
    activityTitle: {
        fontSize: 14,
        color: '#343335',
        marginBottom: 5,
    },
    paragraph: {
        fontSize: 10,
        color: '#545355',
        marginBottom: 15,
        textAlign: 'justify',
    },
    image: {
        marginTop: 15,
        width: '100%',
    },
    pageNumber: {
        justifySelf: 'flex-end',
        alignSelf: 'flex-end',
        fontSize: 10,
        color: '#aaa',
    },
});

interface AppendixTargetEnumerationPageProps {
    companyLogoSrc: string;
    pageNumber: number;
}

const AppendixTargetEnumerationPage: React.FC<AppendixTargetEnumerationPageProps> = ({ companyLogoSrc, pageNumber }) => (
    <WaterMarkedPage companyLogoSrc={companyLogoSrc} sectionHeader='Report Appendix' backgroundColor='#e3e4df'>
        <View style={styles.pageContent}>
            <View>
                <View style={{ flexDirection: 'row', marginBottom: 15 }}>
                    <Text style={[styles.heading, { fontWeight: 700, marginRight: 4 }]}>Appendix B:</Text>
                    <Text style={styles.heading}>Target Enumeration</Text>
                </View>

                <Text style={styles.activityTitle}>Overview</Text>
                <Text style={styles.paragraph}>
                    Target Enumeration is the process of identifying all externally accessible components of a web application. It defines the attack surface by mapping domains, networks, ports, and technologies in use.
                </Text>

                <Text style={styles.activityTitle}>Passive and Active Intelligence Gathering</Text>
                <Text style={styles.paragraph}>
                    We begin by collecting data through both passive and active techniques. This includes identifying domains, subdomains, IP addresses, and associated infrastructure.
                </Text>

                <Text style={styles.activityTitle}>Domain and Network Mapping</Text>
                <Text style={styles.paragraph}>
                    The relationships between domain names and IP addresses are analyzed to understand how the application is distributed across servers or environments. This step helps visualize the application's external footprint.
                </Text>

                <Text style={styles.activityTitle}>Ports and Service Scanning</Text>
                <Text style={styles.paragraph}>
                    We scan for open ports and active services on identified hosts. These services are examined to determine their purpose, configuration, and exposure level.
                </Text>

                <Text style={styles.activityTitle}>Technology Stack Detection</Text>
                <Text style={styles.paragraph}>
                    The application stack—web servers, frameworks, CMS platforms, and other technologies—is detected to identify components that may be vulnerable to known exploits.
                </Text>

                <Text style={styles.activityTitle}>Surface Expansion and Prioritization</Text>
                <Text style={styles.paragraph}>
                    During enumeration, we also look for signs of forgotten subdomains, legacy portals, test environments, or misconfigured endpoints. These are often less protected and more prone to exploitation, making them high-priority targets for further testing.
                </Text>

                <Text style={styles.activityTitle}>Purpose</Text>
                <Text style={styles.paragraph}>
                    This phase provides a clear technical map of the application’s external interface. The insights gained here are used to guide the exploitation phase, allowing us to focus efforts on the most relevant and potentially vulnerable areas of the system.
                </Text>
                <Image src={methodologyDiagramUrl} style={styles.image} />
            </View>

            <Text style={styles.pageNumber}>{pageNumber}</Text>
        </View>
    </WaterMarkedPage >
);

export default AppendixTargetEnumerationPage;
