import React from 'react';
import {
    Page,
    Text,
    View,
    Image,
    StyleSheet,
} from '@react-pdf/renderer';

const styles = StyleSheet.create({
    page: {
        position: 'relative',
        backgroundColor: '#e3e4df',
        padding: 40,
        fontSize: 11,
        fontFamily: 'Helvetica',
        color: '#111827',
    },
    watermark: {
        position: 'absolute',
        top: 100,
        left: 100,
        width: 400,
        opacity: 0.05,
    },
    header: {
        fontSize: 20,
        fontWeight: 'bold',
        marginBottom: 6,
    },
    subHeader: {
        fontSize: 14,
        marginBottom: 20,
    },
    priorityRow: {
        flexDirection: 'row',
        alignItems: 'center',
        marginBottom: 12,
        paddingBottom: 10,
        borderBottom: '1pt solid #d1d5db',
    },
    badge: {
        width: 24,
        height: 24,
        borderRadius: 12,
        color: 'white',
        fontWeight: 'bold',
        textAlign: 'center',
        lineHeight: 1.5,
        marginRight: 12,
    },
    badgeText: {
        marginTop: 4,
        fontSize: 12,
    },
    descriptionText: {
        fontSize: 11,
        color: '#374151',
    },
    legend: {
        marginTop: 30,
    },
    legendHeader: {
        fontSize: 12,
        fontWeight: 'bold',
        marginBottom: 4,
    },
    legendRow: {
        flexDirection: 'row',
        fontSize: 10,
        marginBottom: 4,
    },
    legendLabel: {
        width: 80,
        fontWeight: 'bold',
    },
});

interface OwaspEachVulIntroPageProps {
    companyLogoSrc: string;
}

const OwaspEachVulIntroPage: React.FC<OwaspEachVulIntroPageProps> = ({ companyLogoSrc }) => (
    <Page size="A4" style={styles.page}>
        <Image src={companyLogoSrc} style={styles.watermark} />

        <Text style={styles.header}>Missing Security Controls</Text>
        <Text style={styles.subHeader}>Priority Summary</Text>

        <View style={styles.priorityRow}>
            <Text style={[styles.badge, { backgroundColor: 'red' }]}>1</Text>
            <Text>High - 0 Issues</Text>
        </View>

        <View style={styles.priorityRow}>
            <Text style={[styles.badge, { backgroundColor: '#fbbf24' }]}>2</Text>
            <Text>Medium - 0 Issues</Text>
        </View>

        <View style={styles.priorityRow}>
            <Text style={[styles.badge, { backgroundColor: '#10b981' }]}>3</Text>
            <Text>Low - 2 Issues</Text>
        </View>

        <View style={styles.priorityRow}>
            <Text style={[styles.badge, { backgroundColor: '#3b82f6' }]}>4</Text>
            <Text>Information - 0 Issues</Text>
        </View>

        <View style={styles.legend}>
            <Text style={styles.legendHeader}>Priority</Text>
            <View style={styles.legendRow}>
                <Text style={styles.legendLabel}>High</Text>
                <Text style={styles.descriptionText}>Should be addressed as part of the organization’s short-term goals (0 to 6 months).</Text>
            </View>
            <View style={styles.legendRow}>
                <Text style={styles.legendLabel}>Medium</Text>
                <Text style={styles.descriptionText}>Should be addressed as part of the organization’s medium-term goals (6 to 12 months).</Text>
            </View>
            <View style={styles.legendRow}>
                <Text style={styles.legendLabel}>Low</Text>
                <Text style={styles.descriptionText}>Should be addressed after the high and medium priority items (1 to 2 years).</Text>
            </View>
            <View style={styles.legendRow}>
                <Text style={styles.legendLabel}>Information</Text>
                <Text style={styles.descriptionText}>Awareness should be raised to the items’ stakeholders.</Text>
            </View>
        </View>
    </Page>
);

export default OwaspEachVulIntroPage;
