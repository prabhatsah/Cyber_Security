import { RenderAppBreadcrumb } from "@/components/app-breadcrumb";
import ReconnaissanceTabs from "./components/ReconnaissanceTabs";
import { redirect } from "next/navigation";

export default function Reconnaissance({
    params,
}: {
    params: { pentestIdName: string };
}) {

    const pentestIdName = params.pentestIdName;
    const [pentestId, pentestNameInUrl] = pentestIdName.split("_");
    const pentestName = pentestNameInUrl.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');

    return (
        <>
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 0,
                    title: "Penetration Testing",
                    href: "/pen-test",
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 1,
                    title: "Web Application Penetration Testing",
                    href: "/pen-test/web-app-pen-test",
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 2,
                    title: pentestName,
                    href: `/pen-test/web-app-pen-test/${pentestIdName}`,
                }}
            />
            <RenderAppBreadcrumb
                breadcrumb={{
                    level: 3,
                    title: "Reconnaissance",
                    href: `/pen-test/web-app-pen-test/${pentestIdName}/reconnaissance`,
                }}
            />
            {redirect(`/pen-test/web-app-pen-test/${pentestIdName}/reconnaissance/active-reconnaissance`)}
        </>
    )
}