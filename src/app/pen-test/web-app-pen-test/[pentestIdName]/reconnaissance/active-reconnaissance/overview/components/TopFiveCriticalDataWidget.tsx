import { Card, Title } from '@tremor/react';
import { Cpu, EthernetPort, Network } from 'lucide-react';

export default function TopFiveCriticalDataWidget({ subDomains, ports, technologies }: {
  subDomains: Array<string>;
  ports: Array<string>;
  technologies: Array<string>
}) {
  const topSubDomains = subDomains.slice(0, 5);
  const topPorts = ports.slice(0, 5);
  const topTechnologies = technologies.slice(0, 5);

  return (
    <Card className="flex flex-col gap-3 rounded-md shadow-md bg-white p-4">
      <Title className="text-2xl font-bold">Top 5 Critical</Title>

      <div className="grid grid-cols-1 md:grid-cols-3 gap-3">
        {/* Sub Domains */}
        <Card className="bg-slate-50 rounded-md shadow-sm p-0">
          <div className="flex items-center space-x-2.5 p-3 border-b border-gray-200 dark:border-gray-800">
            <Network className="h-5 w-5 text-blue-600" />
            <h3 className="font-medium text-xl text-widget-mainHeader">Sub Domains</h3>
          </div>
          <div className="flex flex-wrap gap-2 p-3">
            {topSubDomains.map((domain, index) => (
              <span
                key={`sub-domain_${index}`}
                className="text-sm font-medium px-2 py-1 bg-blue-100 text-blue-800 rounded-sm"
              >
                {domain}
              </span>
              // <h5 key={`sub-domain_${index}`} className="font-medium text-md text-widget-mainDesc">{domain}</h5>
            ))}
          </div>
        </Card>

        {/* Open Ports */}
        <Card className="bg-slate-50 rounded-md shadow-sm p-0">
          <div className="flex items-center space-x-2.5 p-3 border-b border-gray-200 dark:border-gray-800">
            <EthernetPort className="h-5 w-5 text-blue-600" />
            <h3 className="font-medium text-xl text-widget-mainHeader">Ports</h3>
          </div>
          <div className="flex flex-wrap gap-2 p-3">
            {topPorts.map((port, index) => (
              <span
                key={`port_${index}`}
                className="text-sm font-medium px-2 py-1 bg-purple-100 text-purple-800 rounded-md"
              >
                Port {port}
              </span>
            ))}
          </div>
        </Card>

        {/* Technologies Identified */}
        <Card className="bg-slate-50 rounded-md shadow-sm p-0">
          <div className="flex items-center space-x-2.5 p-3 border-b border-gray-200 dark:border-gray-800">
            <Cpu className="h-5 w-5 text-blue-600" />
            <h3 className="font-medium text-xl text-widget-mainHeader">Technologies</h3>
          </div>
          <div className="flex flex-wrap gap-2 p-3">
            {topTechnologies.map((technology, index) => (
              <span
                key={`technology_${index}`}
                className="text-sm font-medium px-2 py-1 bg-green-100 text-green-800 rounded-md"
              >
                {technology}
              </span>
            ))}
          </div>
        </Card>
      </div>
    </Card>
  );
}
