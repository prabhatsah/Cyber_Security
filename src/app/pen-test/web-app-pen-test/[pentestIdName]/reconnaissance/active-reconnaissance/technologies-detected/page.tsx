import { BasicInfoWidget } from "@/components/BasicInfoWidget";
import { Card, Title } from "@tremor/react";
import { technologiesData } from "../components/ReconnaissanceDummyData";
import TechnologySummaryWidgets from "./components/TechnologySummaryWidgets";
import { BasicInfoWidgetData } from "../components/type";
import TechnologiesMainTemplate from "./TechnologiesMainTemplate";

export default async function ActiveReconnaissanceTechnologiesDetected({ params }: { params: Promise<{ pentestIdName: string }> }) {
    const pentestIdName = (await params).pentestIdName;

    const whatWebData = technologiesData[technologiesData.length - 1];

    const basicInfoWidgetData: BasicInfoWidgetData[] = [
        {
            name: "URL/Domain",
            value: whatWebData.url,
        },
        {
            name: "Title",
            value: whatWebData.title,
        },
        {
            name: "IP Address",
            value: whatWebData.ip,
        },
        {
            name: "Status",
            value: whatWebData.status,
        },
        {
            name: "Country",
            value: whatWebData.country,
        }
    ];

    const technologies = whatWebData.summary.split(", ");
    const plugins = whatWebData.plugins;
    const headers = whatWebData.headers;

    return (
        <>
            <TechnologiesMainTemplate pentestIdName={pentestIdName} />

            {/* <div className="flex flex-col gap-3">
                <Card className="flex flex-col gap-3 p-4 rounded-md">
                    <Title className="font-bold text-widget-title text-widgetHeader">Basic Information</Title>
                    <BasicInfoWidget items={basicInfoWidgetData} columns={3} useDefault={false} />
                </Card>
                <Card className="flex flex-col gap-3 p-4 rounded-md">
                    <Title className="font-bold text-widget-title text-widgetHeader">Summary</Title>
                    <TechnologySummaryWidgets technologies={technologies} plugins={plugins} headers={headers} />
                </Card>
            </div> */}
        </>
    )
}