import { Badge, Card, Divider, } from '@tremor/react';
import { RiBuildingFill, RiMapPin2Fill, RiUserFill, RiTimeLine, RiAlarmWarningFill } from '@remixicon/react';
import React from 'react';
import { format } from 'date-fns';
import { fetchData } from '@/utils/api';
import { RenderAppBreadcrumb } from '@/components/app-breadcrumb';
import BasicDetailsWidget from './BasicDetailsWidget';

const getPriorityColor = (priority: string) => {
  switch (priority.toLowerCase()) {
    case 'high':
      return 'red';
    case 'medium':
      return 'orange';
    case 'low':
      return 'green';
    default:
      return 'gray';
  }
};

const getSecurityLevelColor = (level: string) => {
  switch (level.toLowerCase()) {
    case 'high':
      return 'green';
    case 'medium':
      return 'yellow';
    case 'low':
      return 'red';
    default:
      return 'gray';
  }
};

export default async function BasicDetailsPage({
  params,
}: {
  params: { pentestIdName: string };
}) {
  const pentestIdName = params.pentestIdName;
  const [pentestId, pentestNameInUrl] = pentestIdName.split("_");
  const pentestName = pentestNameInUrl.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');

  return (
    <>
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 0,
          title: "Penetration Testing",
          href: "/pen-test",
        }}
      />
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 1,
          title: "Web Application Penetration Testing",
          href: "/pen-test/web-app-pen-test",
        }}
      />
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 2,
          title: pentestName,
          href: `/pen-test/web-app-pen-test/${pentestIdName}`,
        }}
      />
      <RenderAppBreadcrumb
        breadcrumb={{
          level: 3,
          title: "Planning",
          href: `/pen-test/web-app-pen-test/${pentestIdName}/planning`,
        }}
      />
      <BasicDetailsWidget pentestIdName={pentestIdName} />
    </>
  )
}