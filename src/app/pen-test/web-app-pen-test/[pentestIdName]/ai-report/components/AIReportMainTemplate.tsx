"use client";

import { PDFDownloadLink, PDFViewer } from '@react-pdf/renderer';
import { PDFReport } from '../components/PDFReport';

const reportData = [
  { metric: 'Visitors', value: '1200' },
  { metric: 'Bounce Rate', value: '43%' },
  { metric: 'Conversion', value: '5.1%' },
];

export default function AIReportMainTemplate() {
  return (
    <div className="p-6 h-100">
      <h1 className="text-xl font-bold mb-4">Dashboard Report (React-PDF)</h1>
      <PDFDownloadLink
        document={<PDFReport data={reportData} chartImage={'../image/keross-logo-large.jpg'} logoImage={'../image/keross-logo-large.jpg'} />}
        fileName="white-labeled-report.pdf"
        className="px-4 py-2 bg-blue-600 text-white rounded"
      >
        {({ loading }) => (loading ? 'Preparing PDF...' : 'Download PDF')}
      </PDFDownloadLink>

      <PDFViewer width="100%" height="100%">
        <PDFReport
          data={[
            { metric: 'Visitors', value: '1200' },
            { metric: 'Bounce Rate', value: '43%' },
            { metric: 'Conversion', value: '5.1%' },
          ]}
          chartImage="/chart-preview.png"
          logoImage="/company-logo.png"
        />
      </PDFViewer>
    </div>
  );
}
