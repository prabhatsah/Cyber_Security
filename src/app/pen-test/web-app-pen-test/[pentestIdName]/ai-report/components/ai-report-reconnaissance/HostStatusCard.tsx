import React from 'react';
import { Card, Grid, Text, Metric, Col } from '@tremor/react';
import { Activity, Clock, Cpu, Globe2, Timer, Wifi } from 'lucide-react';

interface ReconData {
    host_status?: string;
    ip_address?: string;
    latency?: string;
    scan_date?: string;
    scan_duration?: string | number;
    operating_system?: {
        name?: string;
    };
}

interface HostStatusProps {
    reconData: ReconData;
}

export default function HostStatusCard({
    reconData
}: HostStatusProps) {
    return (
        <Grid numItems={1} numItemsSm={2} numItemsLg={3} className="gap-4">
            <Card className="">
                <div className="flex items-center gap-2">
                    <Activity className="w-5 h-5 text-gray-400" />
                    <Text className="text-gray-400 text-xl">Host Status</Text>
                </div>
                <Metric className={`mt-2 text-green-400 dark:text-green-400 text-3xl font-bold`}>
                    {reconData?.host_status
                        ? reconData.host_status.includes("(")
                            ? reconData.host_status.split(" ")[0]
                            : reconData.host_status
                        : "Unknown"}
                </Metric>
            </Card>

            <Card className=" ">
                <div className="flex items-center gap-2">
                    <Globe2 className="w-5 h-5 text-gray-400" />
                    <Text className="text-gray-400 text-xl">IP Address</Text>
                </div>
                <Metric className="mt-2 text-3xl font-bold">{reconData?.ip_address || "_ _ _ _"}</Metric>
            </Card>

            <Card className="">
                <div className="flex items-center gap-2">
                    <Wifi className="w-5 h-5 text-gray-400" />
                    <Text className="text-gray-400 text-xl">Latency</Text>
                </div>
                <Metric className="mt-2 text-3xl font-bold">{reconData?.latency || "0.00001s"}</Metric>
            </Card>

            <Card className=" ">
                <div className="flex items-center gap-2">
                    <Clock className="w-5 h-5 text-gray-400" />
                    <Text className="text-gray-400 text-xl">Scan Date</Text>
                </div>
                <Metric className="mt-2 text-3xl font-bold">{reconData?.scan_date || "YYYY-MM-DD"}</Metric>
            </Card>

            <Card className="">
                <div className="flex items-center gap-2">
                    <Timer className="w-5 h-5 text-gray-400" />
                    <Text className="text-gray-400 text-xl">Scan Duration</Text>
                </div>
                <Metric className="mt-2 text-3xl font-bold">{reconData?.scan_duration + " seconds" || "_"}</Metric>
            </Card>

            <Card className="">
                <div className="flex items-center gap-2">
                    <Cpu className="w-5 h-5 text-gray-400" />
                    <Text className="text-gray-400 text-xl">Operating System</Text>
                </div>
                <Metric className="mt-2 text-3xl font-bold">{reconData?.["operating_system"]?.["name"] || "Unknown"}</Metric>
            </Card>
        </Grid>
    );
}