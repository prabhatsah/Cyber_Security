import React from "react";
import { ChevronsRight } from "lucide-react";

type SubdomainReportProps = {
    mailMXRecord: [],
    nsRecord:[],
    cNameRecord:[],
    mailMXRecordDescription:String,
    nsRecordDescription:String,
    cNameRecordDescription:String
};
console.log("From mail module------------------")


export default function MailReport({ mailMXRecord, nsRecord, cNameRecord, mailMXRecordDescription, nsRecordDescription, cNameRecordDescription }: SubdomainReportProps) {

    const mailData: [string, string, string, string, string][] = mailMXRecord;
    const hostnames: string[] = mailData.map(row => row[0]);

    const nsData: [string, string, string, string, string][] = nsRecord;
    const nsnames: string[] = nsData.map(row => row[0] + " (" + row[1] + ")");

    const cNameData: [string, string, string, string, string][] = cNameRecord;
    const cNamenames: string[] = cNameData.map(row => row[1] + " (" + row[2] + ")");

    return (
        <div className="flex-1 overflow-y-auto">

            <div>
                <hr></hr>
                <h1 className="m-2" style={{ fontFamily: 'Inter' }}>DNS and Email Configuration</h1>

                <h2 className="m-2">Mail (MX) Records: </h2>
                <p className="m-2">{mailMXRecordDescription}</p>
                {hostnames.map((hostname) => (
                    <div key={hostname} className="p-1 ml-3 text-lg flex items-center space-x-2">
                        <div className="text-white">
                            <ChevronsRight color="#a8d84f" />
                        </div>
                        <p>{hostname}</p>
                    </div>
                ))}
            </div>
            <div>
                <h2 className="m-2">Name Servers (NS) Records: </h2>
                <p className="m-2">{nsRecordDescription}</p>
                {nsnames.map((nsname) => (
                    
                    <div key={nsname} className="p-1 ml-3 text-lg flex items-center space-x-2">
                        <div className="text-white">
                            <ChevronsRight color="#a8d84f" />
                        </div>
                        <p>{nsname}</p>
                    </div>
                ))}
            </div>
            <div>
                <h2 className="m-2">CName of Internet: </h2>
                <p className="m-2">{cNameRecordDescription}</p>
                {cNamenames.map((cNamename) => (
                    <div key={cNamename} className="p-1 ml-3 text-lg flex items-center space-x-2">
                        <div className="text-white">
                            <ChevronsRight color="#a8d84f" />
                        </div>
                        <p>{cNamename}</p>
                    </div>
                ))}
            </div>
        </div>
    );
}
