import React from 'react';
import { Card, Text, Metric, Grid, ProgressBar } from '@tremor/react';

interface PortData {
    portData: Object;
}

export default function PortSummaryCard({ portData }: PortData) {
    return (
        <Card className="  p-6">
            <Text className="text-xl text-blue-300 dark:text-blue-300 mb-6">Port & Service Summary</Text>

            <Grid numItems={3} className="gap-6 mb-8">
                <div>
                    <Text className=" mb-2">Total Ports Scanned</Text>
                    <Metric className="text-blue-400 dark:text-blue-400 text-2xl font-bold">{portData?.total_ports_scanned || 0}</Metric>
                </div>
                <div>
                    <Text className=" mb-2">Open Ports</Text>
                    <Metric className="text-green-400 dark:text-green-400 text-2xl font-bold">{portData?.open_ports_count || 0}</Metric>
                </div>
                <div>
                    <Text className=" mb-2">Filtered Ports</Text>
                    <Metric className="text-yellow-400 dark:text-yellow-400 text-2xl font-bold">{portData?.filtered_ports_count || 0}</Metric>
                </div>
            </Grid>

            <div>
                <Text className="text-gray-400 mb-4">Port State Distribution</Text>
                <div className="space-y-4">
                    <div className="flex justify-between items-center mb-2">
                        <Text className="">Open</Text>
                        <Text className="text-green-400 dark:text-green-400" >{portData?.open_ports_count || 0}</Text>
                    </div>
                    <ProgressBar
                        value={(portData?.open_ports_count || 0 / portData?.total_ports_scanned || 0) * 100}
                        color="green"
                        className="h-2"
                    />

                    <div className="flex justify-between items-center mb-2">
                        <Text className="">Filtered</Text>
                        <Text className="text-yellow-400 dark:text-yellow-400">{portData?.filtered_ports_count || 0}</Text>
                    </div>
                    <ProgressBar
                        value={(portData?.filtered_ports_count || 0 / portData?.total_ports_scanned || 0) * 100}
                        color="yellow"
                        className="h-2"
                    />
                </div>
            </div>
        </Card>
    );
}